<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="./src/assets/style.css">
</head>
<body>

<header class="header">
    <ul class="nav">
        <li><a href="/">Home</a></li>
        <li><a href="add_post">Add Post</a></li>
        <li><a href="signup">Sign up</a> </li>
    </ul>
    <div class="dropdown" dropdown-button>
        <a class="logo" href="" onclick="return false"><img src="src/components/icons/My_picture.png" width="100" height="64.51" alt="My picture"></a>
        <div class="dropdown-content">
            <p>John Doe</p>
            <p>john.doe@ut.ee</p>
            <p>Logout</p>
        </div>
    </div>
</header>

<br><br><br><br>


<div class="post-creation">
    <form action="index.html" method="post" enctype="multipart/form-data" class="login-form" onsubmit="return validatePassword()">
        <div class="login-content">
            <p>Welcome to PostIT </p>
            <p class="special_font">Create an Account</p>
            <p>or</p>
            <p>Please Log In</p>
        </div>
        <div class="login-inputs">
            <input type="email" id="email" name="email" required placeholder="Email">
            <input type="password" id="password" name="password" required placeholder="Password">
            <p></p>
            <div class="button-container">
                <button type="submit">Log In</button>
            </div>
            <p class="special_font">Forgot Password</p>
        </div>
    </form>
</div>
<script>
    function validatePassword() {
        const passwordInput = document.getElementById("password");
        const password = passwordInput.value;
        const uppercaseRegex = /[A-Z]/;
        const lowercaseRegex = /[a-z]/g;
        const numericRegex = /\d/;
        const startsWithUppercase = /^[A-Z]/;
        const includesUnderscore = /_/;
        const lowercaseMatches = password.match(lowercaseRegex);
        const lowercaseCount = lowercaseMatches ? lowercaseMatches.length : 0;

        if (password.length < 8 || password.length > 15) {
            alert("Salasõna peab olema vähemalt 8 tähte pikk, aga mitte pikem kui 15 tähte");
            return false;
        }
        if (!uppercaseRegex.test(password)) {
            alert("Salasõna peab sisaldama vähemalt ühte suurt tähte");
            return false;
        }

        if (lowercaseCount < 2) {
            alert("Salasõna peab sisaldama vähemalt kahte väikest tähte");
            return false;
        }

        if (!numericRegex.test(password)) {
            alert("Salasõna peab sisaldama numbrit");
            return false;
        }

        if (!startsWithUppercase.test(password)) {
            alert("Salasõna peab algama suure tähega!");
            return false;
        }

        if (!includesUnderscore.test(password)) {
            alert("Salasõna peab sisaldama _ (underscore)");
            return false;
        }
        return true;
    }
</script>
<footer>
    <p>This beautiful page is provided to you by Tartu University students</p>
</footer>
</body>
</html>
